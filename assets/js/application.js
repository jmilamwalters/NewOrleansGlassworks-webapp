$(document).ready(function(){var e=function(){$(".ui.shape").eq(0).shape("flip over").end().eq(1).shape("flip over").end().eq(2).shape("flip back").end().eq(3).shape("flip back").end()};$(".ui.dropdown").dropdown({on:"hover"}),$(".masthead .information").transition("scale in",1e3),setInterval(e,3e3)}),$("#hot-glass-now").hover(function(){$(this).transition("pulse")}),$(document).ready(function(){$(".ui.dropdown").dropdown(),$(".ui.form").form({fname:{identifier:"fname",rules:[{type:"empty",prompt:"Please enter your first name"}]},lname:{identifier:"lname",rules:[{type:"empty",prompt:"Please enter your last name"}]},email:{identifier:"email",rules:[{type:"empty",prompt:"Please enter your e-mail address"},{type:"email",prompt:"Please enter a valid e-mail address"}]},telephone:{identifier:"telephone",rules:[{type:"empty",prompt:"Please enter your mobile telephone number"}]},inquiryType:{identifier:"inquiryType",rules:[{type:"empty",prompt:"Please select the nature of your inquiry"}]},msg:{identifier:"msg",rules:[{type:"empty",prompt:"Please compose your message"}]}}),$("#contact_form").form("validate form",{inline:!0,on:"blur"}),$(".message .close").on("click",function(){$(this).closest(".message").fadeOut()}),jQuery(function(e){e("#contact_form").submit(function(){var t=e("#email").val(),n=e("#msg").val(),i=e("#fname").val()+" "+e("#lname").val(),a=e("#fname").val()+" "+e("#lname").val()+" | re: "+e("#inquiryType").val()+" | "+e("#telephone").val()+" | "+e("#email").val();return e.ajax({type:"POST",url:"https://mandrillapp.com/api/1.0/messages/send.json",data:{key:"tT5xsg4P1GlZxIDAFXO3Pw",message:{from_email:t,from_name:i,headers:{"Reply-To":t},subject:a,text:n,to:[{email:"neworleansglassworks@gmail.com",name:"New Orleans Glassworks",type:"to"}]}}}).done(function(t){e("#successMessage").removeClass("hidden"),e("#email").val(""),e("#fname").val(""),e("#lname").val(""),e("#telephone").val(""),e(".inquiry-select").dropdown("clear"),e("#msg").val("")}).fail(function(e){alert("There was an error in sending your message.")}),!1})})}),jQuery(document).ready(function(e){function t(){e(".mega-nav-trigger").removeClass("nav-is-visible"),e(".mega-main-header").removeClass("nav-is-visible"),e(".mega-primary-nav").removeClass("nav-is-visible"),e(".has-children ul").addClass("is-hidden"),e(".has-children a").removeClass("selected"),e(".moves-out").removeClass("moves-out"),e(".mega-main-content").removeClass("nav-is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e("body").removeClass("overflow-hidden")})}function n(t){"close"==t?(e(".mega-search").removeClass("is-visible"),e(".mega-search-trigger").removeClass("search-is-visible")):(e(".mega-search").toggleClass("is-visible"),e(".mega-search-trigger").toggleClass("search-is-visible"),e(window).width()>o&&e(".mega-search").hasClass("is-visible")&&e(".mega-search").find('input[type="search"]').focus(),e(".mega-search").hasClass("is-visible")?e(".mega-overlay").addClass("is-visible"):e(".mega-overlay").removeClass("is-visible"))}function i(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),e[t+"Width"]>=o?!0:!1}function a(){var t=e(".mega-nav"),n=i();n?(t.detach(),t.insertBefore(".mega-header-buttons")):(t.detach(),t.insertAfter(".mega-main-content"))}var o=1170;a(),e(window).on("resize",function(){window.requestAnimationFrame?window.requestAnimationFrame(a):setTimeout(a,300)}),e(".mega-nav-trigger").on("click",function(i){i.preventDefault(),e(".mega-main-content").hasClass("nav-is-visible")?(t(),e(".mega-overlay").removeClass("is-visible")):(e(this).addClass("nav-is-visible"),e(".mega-primary-nav").addClass("nav-is-visible"),e(".mega-main-header").addClass("nav-is-visible"),e(".mega-main-content").addClass("nav-is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e("body").addClass("overflow-hidden")}),n("close"),e(".mega-overlay").addClass("is-visible"))}),e(".mega-search-trigger").on("click",function(e){e.preventDefault(),n(),t()}),e(".mega-overlay").on("swiperight",function(){e(".mega-primary-nav").hasClass("nav-is-visible")&&(t(),e(".mega-overlay").removeClass("is-visible"))}),e(".nav-on-left .mega-overlay").on("swipeleft",function(){e(".mega-primary-nav").hasClass("nav-is-visible")&&(t(),e(".mega-overlay").removeClass("is-visible"))}),e(".mega-overlay").on("click",function(){t(),n("close"),e(".mega-overlay").removeClass("is-visible")}),e(".mega-button-close").on("click",function(){t(),n("close"),e(".mega-overlay").removeClass("is-visible")}),e(".mega-primary-nav").children(".has-children").children("a").on("click",function(e){e.preventDefault()}),e(".has-children").children("a").on("click",function(t){i()||t.preventDefault();var a=e(this);a.next("ul").hasClass("is-hidden")?(a.addClass("selected").next("ul").removeClass("is-hidden").end().parent(".has-children").parent("ul").addClass("moves-out"),a.parent(".has-children").siblings(".has-children").children("ul").addClass("is-hidden").end().children("a").removeClass("selected"),e(".mega-overlay").addClass("is-visible")):(a.removeClass("selected").next("ul").addClass("is-hidden").end().parent(".has-children").parent("ul").removeClass("moves-out"),e(".mega-overlay").removeClass("is-visible")),n("close")}),e(".go-back").on("click",function(){e(this).parent("ul").addClass("is-hidden").parent(".has-children").parent("ul").removeClass("moves-out")})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,n=navigator.userAgent,i=/iphone/i.test(n),a=/chrome/i.test(n),o=/android/i.test(n);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(n,s){var r,l,c,u,d,v,h,p;if(!n&&this.length>0){r=e(this[0]);var m=r.data(e.mask.dataName);return m?m():void 0}return s=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},s),l=e.mask.definitions,c=[],u=h=n.length,d=null,e.each(n.split(""),function(e,t){"?"==t?(h--,u=e):l[t]?(c.push(new RegExp(l[t])),null===d&&(d=c.length-1),u>e&&(v=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function r(){if(s.completed){for(var e=d;v>=e;e++)if(c[e]&&P[e]===m(e))return;s.completed.call(j)}}function m(e){return s.placeholder.charAt(e<s.placeholder.length?e:0)}function f(e){for(;++e<h&&!c[e];);return e}function g(e){for(;--e>=0&&!c[e];);return e}function b(e,t){var n,i;if(!(0>e)){for(n=e,i=f(t);h>n;n++)if(c[n]){if(!(h>i&&c[n].test(P[i])))break;P[n]=P[i],P[i]=m(i),i=f(i)}E(),j.caret(Math.max(d,e))}}function w(e){var t,n,i,a;for(t=e,n=m(e);h>t;t++)if(c[t]){if(i=f(t),a=P[t],P[t]=n,!(h>i&&c[i].test(a)))break;n=a}}function y(){var e=j.val(),t=j.caret();if(e.length<p.length){for(x(!0);t.begin>0&&!c[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<d&&!c[t.begin];)t.begin++;j.caret(t.begin,t.begin)}else{for(x(!0);t.begin<h&&!c[t.begin];)t.begin++;j.caret(t.begin,t.begin)}r()}function k(){x(),j.val()!=I&&j.change()}function T(e){if(!j.prop("readonly")){var t,n,a,o=e.which||e.keyCode;p=j.val(),8===o||46===o||i&&127===o?(t=j.caret(),n=t.begin,a=t.end,a-n===0&&(n=46!==o?g(n):a=f(n-1),a=46===o?f(a):a),D(n,a),b(n,a-1),e.preventDefault()):13===o?k.call(this,e):27===o&&(j.val(I),j.caret(0,x()),e.preventDefault())}}function C(t){if(!j.prop("readonly")){var n,i,a,s=t.which||t.keyCode,l=j.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>s)&&s&&13!==s){if(l.end-l.begin!==0&&(D(l.begin,l.end),b(l.begin,l.end-1)),n=f(l.begin-1),h>n&&(i=String.fromCharCode(s),c[n].test(i))){if(w(n),P[n]=i,E(),a=f(n),o){var u=function(){e.proxy(e.fn.caret,j,a)()};setTimeout(u,0)}else j.caret(a);l.begin<=v&&r()}t.preventDefault()}}}function D(e,t){var n;for(n=e;t>n&&h>n;n++)c[n]&&(P[n]=m(n))}function E(){j.val(P.join(""))}function x(e){var t,n,i,a=j.val(),o=-1;for(t=0,i=0;h>t;t++)if(c[t]){for(P[t]=m(t);i++<a.length;)if(n=a.charAt(i-1),c[t].test(n)){P[t]=n,o=t;break}if(i>a.length){D(t+1,h);break}}else P[t]===a.charAt(i)&&i++,u>t&&(o=t);return e?E():u>o+1?s.autoclear||P.join("")===M?(j.val()&&j.val(""),D(0,h)):E():(E(),j.val(j.val().substring(0,o+1))),u?t:d}var j=e(this),P=e.map(n.split(""),function(e,t){return"?"!=e?l[e]?m(t):e:void 0}),M=P.join(""),I=j.val();j.data(e.mask.dataName,function(){return e.map(P,function(e,t){return c[t]&&e!=m(t)?e:null}).join("")}),j.one("unmask",function(){j.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!j.prop("readonly")){clearTimeout(t);var e;I=j.val(),e=x(),t=setTimeout(function(){E(),e==n.replace("?","").length?j.caret(0,e):j.caret(e)},10)}}).on("blur.mask",k).on("keydown.mask",T).on("keypress.mask",C).on("input.mask paste.mask",function(){j.prop("readonly")||setTimeout(function(){var e=x(!0);j.caret(e),r()},0)}),a&&o&&j.off("input.mask").on("input.mask",y),x()})}})}),function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],function(i){return n(i,e,t),i.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n,i){!function(e,t,n,i){function a(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function o(t,n){var o,s,r,l,c,u,d,v,h,p=t.type;if(t=e.Event(t),t.type=n,o=t.originalEvent,s=e.event.props,p.search(/^(mouse|click)/)>-1&&(s=I),o)for(d=s.length,l;d;)l=s[--d],t[l]=o[l];if(p.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==p.search(/^touch/)&&(r=a(o),p=r.touches,c=r.changedTouches,u=p&&p.length?p[0]:c&&c.length?c[0]:i,u))for(v=0,h=P.length;h>v;v++)l=P[v],t[l]=u[l];return t}function s(t){for(var n,i,a={};t;){n=e.data(t,E);for(i in n)n[i]&&(a[i]=a.hasVirtualBinding=!0);t=t.parentNode}return a}function r(t,n){for(var i;t;){if(i=e.data(t,E),i&&(!n||i[n]))return t;t=t.parentNode}return null}function l(){R=!1}function c(){R=!0}function u(){F=0,A.length=0,$=!1,c()}function d(){l()}function v(){h(),N=setTimeout(function(){N=0,u()},e.vmouse.resetTimerDuration)}function h(){N&&(clearTimeout(N),N=0)}function p(t,n,i){var a;return(i&&i[t]||!i&&r(n.target,t))&&(a=o(n,t),e(n.target).trigger(a)),a}function m(t){var n,i=e.data(t.target,x);!$&&(!F||F!==i)&&(n=p("v"+t.type,t),n&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function f(t){var n,i,o,r=a(t).touches;r&&1===r.length&&(n=t.target,i=s(n),i.hasVirtualBinding&&(F=B++,e.data(n,x,F),h(),d(),Y=!1,o=a(t).touches[0],q=o.pageX,X=o.pageY,p("vmouseover",t,i),p("vmousedown",t,i)))}function g(e){R||(Y||p("vmousecancel",e,s(e.target)),Y=!0,v())}function b(t){if(!R){var n=a(t).touches[0],i=Y,o=e.vmouse.moveDistanceThreshold,r=s(t.target);Y=Y||Math.abs(n.pageX-q)>o||Math.abs(n.pageY-X)>o,Y&&!i&&p("vmousecancel",t,r),p("vmousemove",t,r),v()}}function w(e){if(!R){c();var t,n,i=s(e.target);p("vmouseup",e,i),Y||(t=p("vclick",e,i),t&&t.isDefaultPrevented()&&(n=a(e).changedTouches[0],A.push({touchID:F,x:n.clientX,y:n.clientY}),$=!0)),p("vmouseout",e,i),Y=!1,v()}}function y(t){var n,i=e.data(t,E);if(i)for(n in i)if(i[n])return!0;return!1}function k(){}function T(t){var n=t.substr(1);return{setup:function(){y(this)||e.data(this,E,{});var i=e.data(this,E);i[t]=!0,S[t]=(S[t]||0)+1,1===S[t]&&O.bind(n,m),e(this).bind(n,k),L&&(S.touchstart=(S.touchstart||0)+1,1===S.touchstart&&O.bind("touchstart",f).bind("touchend",w).bind("touchmove",b).bind("scroll",g))},teardown:function(){--S[t],S[t]||O.unbind(n,m),L&&(--S.touchstart,S.touchstart||O.unbind("touchstart",f).unbind("touchmove",b).unbind("touchend",w).unbind("scroll",g));var i=e(this),a=e.data(this,E);a&&(a[t]=!1),i.unbind(n,k),y(this)||i.removeData(E)}}}var C,D,E="virtualMouseBindings",x="virtualTouchID",j="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),P="clientX clientY pageX pageY screenX screenY".split(" "),M=e.event.mouseHooks?e.event.mouseHooks.props:[],I=e.event.props.concat(M),S={},N=0,q=0,X=0,Y=!1,A=[],$=!1,R=!1,L="addEventListener"in n,O=e(n),B=1,F=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},D=0;D<j.length;D++)e.event.special[j[D]]=T(j[D]);L&&n.addEventListener("click",function(t){var n,i,a,o,s,r,l=A.length,c=t.target;if(l)for(n=t.clientX,i=t.clientY,C=e.vmouse.clickDistanceThreshold,a=c;a;){for(o=0;l>o;o++)if(s=A[o],r=0,a===c&&Math.abs(s.x-n)<C&&Math.abs(s.y-i)<C||e.data(a,x)===s.touchID)return t.preventDefault(),void t.stopPropagation();a=a.parentNode}},!0)}(e,t,n),function(e){e.mobile={}}(e),function(e,t){var i={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,i),e.extend(e.mobile.support,i)}(e),function(e,t,i){function a(t,n,a,o){var s=a.type;a.type=n,o?e.event.trigger(a,i,t):e.event.dispatch.call(t,a),a.type=s}var o=e(n),s=e.mobile.support.touch,r="touchmove scroll",l=s?"touchstart":"mousedown",c=s?"touchend":"mouseup",u=s?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){n=t,a(o,n?"scrollstart":"scrollstop",e)}var n,i,o=this,s=e(o);s.bind(r,function(a){e.event.special.scrollstart.enabled&&(n||t(a,!0),clearTimeout(i),i=setTimeout(function(){t(a,!1)},50))})},teardown:function(){e(this).unbind(r)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),i=!1;n.bind("vmousedown",function(s){function r(){clearTimeout(u)}function l(){r(),n.unbind("vclick",c).unbind("vmouseup",r),o.unbind("vmousecancel",l)}function c(e){l(),i||d!==e.target?i&&e.preventDefault():a(t,"tap",e)}if(i=!1,s.which&&1!==s.which)return!1;var u,d=s.target;n.bind("vmouseup",r).bind("vclick",c),o.bind("vmousecancel",l),u=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(i=!0),a(t,"taphold",e.Event("taphold",{target:d}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),o.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var n=t.pageXOffset,i=t.pageYOffset,a=e.clientX,o=e.clientY;return 0===e.pageY&&Math.floor(o)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(a)>Math.floor(e.pageX)?(a-=n,o-=i):(o<e.pageY-i||a<e.pageX-n)&&(a=e.pageX-n,o=e.pageY-i),{x:a,y:o}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[i.x,i.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[i.x,i.y]}},handleSwipe:function(t,n,i,o){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return a(i,"swipe",e.Event("swipe",{target:o,swipestart:t,swipestop:n}),!0),a(i,s,e.Event(s,{target:o,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,i=e(n),a={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=a,a.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var i,s=e.event.special.swipe.start(t),r=t.target,l=!1;a.move=function(t){s&&!t.isDefaultPrevented()&&(i=e.event.special.swipe.stop(t),l||(l=e.event.special.swipe.handleSwipe(s,i,n,r),l&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(s.coords[0]-i.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},a.stop=function(){l=!0,e.event.special.swipe.eventInProgress=!1,o.off(u,a.move),a.move=null},o.on(u,a.move).one(c,a.stop)}},i.on(l,a.start)},teardown:function(){var t,n;t=e.data(this,"mobile-events"),t&&(n=t.swipe,delete t.swipe,t.length--,0===t.length&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(l,n.start),n.move&&o.off(u,n.move),n.stop&&o.off(c,n.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this)}),function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],a=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">'+a+"</style>",i.appendChild(o.childNodes[1])}return t&&e.extend(n,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];n.customSelector&&t.push(n.customSelector);var i=e(this).find(t.join(","));i=i.not("object object"),i.each(function(){var t=e(this);if(!("embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){var n="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),i=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),a=n/i;if(!t.attr("id")){var o="fitvid"+Math.floor(999999*Math.random());t.attr("id",o)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*a+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto);